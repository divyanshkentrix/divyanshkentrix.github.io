<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Maharashtra State Dashboard - Discover India</title>
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-3d@0.1.0/dist/chartjs-plugin-3d.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #1B5E20 0%, #2E7D32 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #2E7D32 0%, #43A047 100%);
            color: white;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .location-badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .location-icon {
            color: #FF5252;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            background: white;
            padding: 10px;
            overflow-x: auto;
            gap: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav-tab {
            background: #E8F5E9;
            color: #2E7D32;
            padding: 10px 20px;
            border-radius: 25px;
            white-space: nowrap;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .nav-tab.active {
            background: #2E7D32;
            color: white;
            transform: scale(1.05);
        }

        /* Main Container */
        .dashboard-container {
            padding: 20px;
            max-width: 100%;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            animation: slideUp 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #2E7D32, #66BB6A);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card-title {
            color: #2E7D32;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Key Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .metric-card {
            background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
        }

        .metric-card:hover {
            transform: translateY(-5px) scale(1.05);
        }

        .metric-value {
            font-size: 28px;
            font-weight: bold;
            color: #2E7D32;
            margin-bottom: 5px;
        }

        .metric-label {
            color: #558B2F;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* 3D Container */
        .chart-3d-container {
            height: 300px;
            position: relative;
            margin: 20px 0;
        }

        /* Canvas Styles */
        canvas {
            max-width: 100%;
            height: auto;
        }

        /* Progress Bars */
        .progress-bar {
            background: #E8F5E9;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2E7D32, #66BB6A);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
            font-size: 12px;
            transition: width 1s ease;
            box-shadow: 0 0 20px rgba(46, 125, 50, 0.5);
        }

        .progress-label {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #1B5E20;
            font-weight: 500;
            font-size: 12px;
            z-index: 1;
        }

        /* Population Visual */
        .population-visual {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
        }

        .gender-block {
            text-align: center;
            flex: 1;
        }

        .gender-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            margin-bottom: 10px;
        }

        .male-icon {
            background: linear-gradient(135deg, #42A5F5, #1E88E5);
            color: white;
        }

        .female-icon {
            background: linear-gradient(135deg, #EC407A, #E91E63);
            color: white;
        }

        /* 3D Effect Buttons */
        .btn-3d {
            background: linear-gradient(135deg, #2E7D32, #43A047);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(46, 125, 50, 0.3);
            transition: all 0.3s;
            margin: 10px 5px;
        }

        .btn-3d:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(46, 125, 50, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 480px) {
            .header h1 {
                font-size: 20px;
            }
            
            .metric-value {
                font-size: 24px;
            }
            
            .card {
                padding: 15px;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #E8F5E9;
            border-radius: 50%;
            border-top-color: #2E7D32;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #E8F5E9;
        }

        ::-webkit-scrollbar-thumb {
            background: #2E7D32;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <h1>
                <span>üó∫Ô∏è</span>
                Discover Maharashtra
            </h1>
            <div class="location-badge">
                <span class="location-icon">üìç</span>
                Mumbai, MH
            </div>
        </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="nav-tabs">
        <button class="nav-tab active">Overview</button>
        <button class="nav-tab">Demographics</button>
        <button class="nav-tab">Economics</button>
        <button class="nav-tab">Consumer Insights</button>
        <button class="nav-tab">FMCG Trends</button>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
        
        <!-- Key Metrics Overview -->
        <div class="card">
            <h2 class="card-title">
                <span>üìä</span>
                Key Metrics at a Glance
            </h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value">133.6M</div>
                    <div class="metric-label">Total Population</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">29.3M</div>
                    <div class="metric-label">Households</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">50.5%</div>
                    <div class="metric-label">Urban Population</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">53.5%</div>
                    <div class="metric-label">Male Ratio</div>
                </div>
            </div>
        </div>

        <!-- Population Distribution 3D Pie -->
        <div class="card">
            <h2 class="card-title">
                <span>üë•</span>
                Population Distribution
            </h2>
            <div class="population-visual">
                <div class="gender-block">
                    <div class="gender-icon male-icon">‚ôÇÔ∏è</div>
                    <div class="metric-value" style="font-size: 20px;">71.4M</div>
                    <div class="metric-label">Male Population</div>
                </div>
                <div class="gender-block">
                    <div class="gender-icon female-icon">‚ôÄÔ∏è</div>
                    <div class="metric-value" style="font-size: 20px;">62.2M</div>
                    <div class="metric-label">Female Population</div>
                </div>
            </div>
            <canvas id="populationChart"></canvas>
        </div>

        <!-- Urban vs Rural Distribution -->
        <div class="card">
            <h2 class="card-title">
                <span>üèôÔ∏è</span>
                Urban vs Rural Distribution
            </h2>
            <div id="urbanRural3D" class="chart-3d-container"></div>
        </div>

        <!-- Age Demographics -->
        <div class="card">
            <h2 class="card-title">
                <span>üìÖ</span>
                Age Demographics
            </h2>
            <canvas id="ageChart"></canvas>
        </div>

        <!-- Income Distribution -->
        <div class="card">
            <h2 class="card-title">
                <span>üí∞</span>
                Urban Income Distribution (% of Households)
            </h2>
            <div id="incomeDistribution">
                <div class="progress-bar">
                    <span class="progress-label">80K-130K</span>
                    <div class="progress-fill" style="width: 36.5%;">18.5%</div>
                </div>
                <div class="progress-bar">
                    <span class="progress-label">40K-80K</span>
                    <div class="progress-fill" style="width: 28%;">14.3%</div>
                </div>
                <div class="progress-bar">
                    <span class="progress-label">20K-40K</span>
                    <div class="progress-fill" style="width: 12.6%;">6.4%</div>
                </div>
                <div class="progress-bar">
                    <span class="progress-label">130K-170K</span>
                    <div class="progress-fill" style="width: 11.5%;">5.8%</div>
                </div>
                <div class="progress-bar">
                    <span class="progress-label">&gt; 300K</span>
                    <div class="progress-fill" style="width: 2.2%;">1.1%</div>
                </div>
            </div>
        </div>

        <!-- Consumer Segments -->
        <div class="card">
            <h2 class="card-title">
                <span>üéØ</span>
                Top Urban Consumer Segments
            </h2>
            <canvas id="segmentsChart"></canvas>
        </div>

        <!-- FMCG Spending Pattern -->
        <div class="card">
            <h2 class="card-title">
                <span>üõí</span>
                Annual FMCG Spending Distribution
            </h2>
            <canvas id="fmcgChart"></canvas>
        </div>

    </div>

    <script>
        // Maharashtra Data
        const maharashtraData = {
            population: {
                total: 133645286,
                urban: 67454106,
                rural: 66191180,
                male: 71439449,
                female: 62205837
            },
            households: {
                total: 29278832,
                urban: 15019962,
                rural: 14258870
            },
            age_groups: {
                '0-19': { male: 16, female: 13 },
                '20-39': { male: 15, female: 12 },
                '40-59': { male: 14, female: 13 },
                '60+': { male: 7, female: 7 }
            },
            urban_income: {
                '< 20K': 1.56,
                '20K-40K': 6.37,
                '40K-80K': 14.25,
                '80K-130K': 18.51,
                '130K-170K': 5.81,
                '170K-230K': 2.50,
                '230K-300K': 1.19,
                '> 300K': 1.11
            },
            urban_segments: {
                'Established Elite': 8.99,
                'New Wealth': 6.79,
                'Aspiring Middle': 3.23,
                'Conservative Middle': 7.77,
                'Fast Climbers': 5.03
            },
            fmcg_spending: {
                '> 35K': 8.40,
                '30K-35K': 7.91,
                '25K-30K': 19.37,
                '20K-25K': 13.55,
                '17K-20K': 12.12,
                '14K-17K': 12.72,
                '11K-14K': 14.35
            }
        };

        // Initialize Charts
        window.addEventListener('DOMContentLoaded', () => {
            createPopulationChart();
            createUrbanRural3D();
            createAgeChart();
            createSegmentsChart();
            createFMCGChart();
            animateProgressBars();
        });

        // Population Distribution Doughnut Chart
        function createPopulationChart() {
            const ctx = document.getElementById('populationChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Male', 'Female'],
                    datasets: [{
                        data: [71.4, 62.2],
                        backgroundColor: [
                            'rgba(66, 165, 245, 0.8)',
                            'rgba(236, 64, 122, 0.8)'
                        ],
                        borderColor: [
                            'rgba(30, 136, 229, 1)',
                            'rgba(233, 30, 99, 1)'
                        ],
                        borderWidth: 2,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: { size: 14, weight: 'bold' },
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed + 'M';
                                }
                            }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        animateScale: true
                    }
                }
            });
        }

        // 3D Urban vs Rural Visualization using Three.js
        function createUrbanRural3D() {
            const container = document.getElementById('urbanRural3D');
            const width = container.offsetWidth;
            const height = 300;

            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0xffffff);
            
            const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.set(0, 0, 5);

            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(width, height);
            container.appendChild(renderer.domElement);

            // Add lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.4);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);

            // Create 3D bars
            const urbanGeometry = new THREE.BoxGeometry(1.5, 67.4/30, 1.5);
            const urbanMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x2E7D32,
                emissive: 0x1B5E20,
                emissiveIntensity: 0.2
            });
            const urbanMesh = new THREE.Mesh(urbanGeometry, urbanMaterial);
            urbanMesh.position.x = -1.5;
            scene.add(urbanMesh);

            const ruralGeometry = new THREE.BoxGeometry(1.5, 66.2/30, 1.5);
            const ruralMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x66BB6A,
                emissive: 0x43A047,
                emissiveIntensity: 0.2
            });
            const ruralMesh = new THREE.Mesh(ruralGeometry, ruralMaterial);
            ruralMesh.position.x = 1.5;
            scene.add(ruralMesh);

            // Animation
            function animate() {
                requestAnimationFrame(animate);
                urbanMesh.rotation.y += 0.005;
                ruralMesh.rotation.y += 0.005;
                renderer.render(scene, camera);
            }
            animate();

            // Responsive resize
            window.addEventListener('resize', () => {
                const newWidth = container.offsetWidth;
                camera.aspect = newWidth / height;
                camera.updateProjectionMatrix();
                renderer.setSize(newWidth, height);
            });
        }

        // Age Demographics Horizontal Bar Chart
        function createAgeChart() {
            const ctx = document.getElementById('ageChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['0-19', '20-39', '40-59', '60+'],
                    datasets: [{
                        label: 'Male',
                        data: [16, 15, 14, 7],
                        backgroundColor: 'rgba(66, 165, 245, 0.8)',
                        borderColor: 'rgba(30, 136, 229, 1)',
                        borderWidth: 2
                    }, {
                        label: 'Female',
                        data: [13, 12, 13, 7],
                        backgroundColor: 'rgba(236, 64, 122, 0.8)',
                        borderColor: 'rgba(233, 30, 99, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                font: { size: 12, weight: 'bold' }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(46, 125, 50, 0.1)'
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Consumer Segments Polar Area Chart
        function createSegmentsChart() {
            const ctx = document.getElementById('segmentsChart').getContext('2d');
            new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: Object.keys(maharashtraData.urban_segments),
                    datasets: [{
                        data: Object.values(maharashtraData.urban_segments),
                        backgroundColor: [
                            'rgba(46, 125, 50, 0.7)',
                            'rgba(67, 160, 71, 0.7)',
                            'rgba(102, 187, 106, 0.7)',
                            'rgba(129, 199, 132, 0.7)',
                            'rgba(165, 214, 167, 0.7)'
                        ],
                        borderColor: '#2E7D32',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                font: { size: 11 }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed.toFixed(1) + '%';
                                }
                            }
                        }
                    },
                    scales: {
                        r: {
                            grid: {
                                color: 'rgba(46, 125, 50, 0.2)'
                            }
                        }
                    }
                }
            });
        }

        // FMCG Spending Radar Chart
        function createFMCGChart() {
            const ctx = document.getElementById('fmcgChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: Object.keys(maharashtraData.fmcg_spending),
                    datasets: [{
                        label: 'FMCG Spending Distribution (%)',
                        data: Object.values(maharashtraData.fmcg_spending),
                        backgroundColor: 'rgba(46, 125, 50, 0.3)',
                        borderColor: 'rgba(46, 125, 50, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(46, 125, 50, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(46, 125, 50, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(46, 125, 50, 0.2)'
                            },
                            grid: {
                                color: 'rgba(46, 125, 50, 0.2)'
                            },
                            pointLabels: {
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        }

        // Animate Progress Bars
        function animateProgressBars() {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach((bar, index) => {
                setTimeout(() => {
                    bar.style.width = bar.style.width;
                }, index * 200);
            });
        }

        // Tab Navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Add interactive hover effects to metric cards
        document.querySelectorAll('.metric-card').forEach(card => {
            card.addEventListener('click', function() {
                this.style.animation = 'pulse 0.5s';
                setTimeout(() => {
                    this.style.animation = '';
                }, 500);
            });
        });

        // Add pulse animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.1); }
                100% { transform: scale(1); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>